---
description:
globs:
alwaysApply: true
---
# 核心开发原则

## HTML 规则
- **使用语义化标签**：如<header>, <footer>, <article>, <section>等。
- **提供alt属性**：为<img>标签提供alt属性，提高可访问性。
- **使用正确的文档类型**：<!DOCTYPE html>。
- **指定字符编码**：<meta charset="UTF-8">。
- **使用viewport元标签**：<meta name="viewport" content="width=device-width, initial-scale=1.0">用于响应式设计。
- **避免内联样式和脚本**：将样式和脚本放在外部文件中。
- **表单验证**：使用HTML5表单验证属性，如required, type="email"等。
- **使用外部资源**：将JavaScript和CSS放在外部文件中，并放在合适的位置（CSS放在头部，JavaScript放在 body 底部或使用defer/async）。
- **可访问性**：使用ARIA属性提高可访问性。
- **代码缩进**：保持一致的缩进，使代码易读。

## PHP 规则
- **使用最新稳定版本**：确保使用PHP的最新稳定版本，以获得性能和安全更新。
- **错误报告**：在开发环境中显示错误，在生产环境中关闭错误显示，并记录错误日志。
**使用PDO或MySQLi**：避免使用已废弃的mysql扩展，使用PDO或MySQLi并使用预处理语句防止SQL注入。
- **验证和过滤用户输入**：永远不要信任用户输入，使用过滤器函数验证和过滤输入。
- **转义输出**：在将数据输出到HTML时使用htmlspecialchars防止XSS。
- **使用自动加载**：使用spl_autoload_register或Composer的自动加载。
- **使用面向对象编程**：尽可能使用面向对象编程，遵循SOLID原则。
- **使用Composer**：管理依赖，使用Composer。
- **密码哈希**：使用password_hash和password_verify处理密码。
- **避免使用已废弃的功能**：注意PHP版本更新中废弃的功能，避免使用。
- **使用框架**：考虑使用流行的框架（如Laravel、Symfony）以提高开发效率和安全性。
- **文件上传安全**：检查上传文件的类型和大小，避免恶意文件上传。

## JavaScript 规则
- **避免全局变量**：尽量使用局部变量，避免污染全局命名空间。
- **使用let和const**：优先使用const，如果变量需要重新赋值则使用let，避免使用var。
- **使用箭头函数**：在需要保持this上下文时使用箭头函数。
- **使用模板字符串**：拼接字符串时使用模板字符串。
- **使用===和!==**：避免类型转换，使用严格相等运算符。
- **处理异步操作**：使用Promise或async/await，避免回调地狱。
- **错误处理**：使用try-catch处理可能出错的代码。
- **模块化**：使用ES6模块导入和导出，保持代码模块化。
- **避免使用eval()**：由于安全性和性能原因，避免使用eval。
- **事件处理**：使用事件委托，避免频繁绑定事件。
- **性能优化**：避免在循环中执行昂贵操作，使用节流和防抖处理频繁事件。

## CSS 规则
- **使用外部样式表**：将CSS代码放在外部文件中，避免内联样式和内部样式表。
- **使用类选择器**：避免使用ID选择器，优先使用类选择器，提高可复用性。
- **避免使用!important**：除非必要，避免使用!important，以免导致样式优先级问题。
- **使用Flexbox或Grid布局**：现代布局技术，避免使用浮动布局。
- **响应式设计**：使用媒体查询使网站适应不同屏幕尺寸。
- **使用CSS变量**：对于重复使用的值，使用CSS变量（自定义属性）。
- **命名规范**：使用有意义的类名，可以采用BEM等命名方法论。
- **避免过度嵌套**：特别是在使用预处理器（如SASS）时，避免过深的嵌套。
- **性能优化**：避免使用昂贵的选择器，减少重绘和回流。
- **浏览器兼容性**：考虑浏览器兼容性，使用自动前缀工具。

## 通用开发原则
- **可测试性**：编写可测试的代码，组件应保持单一职责
- **DRY 原则**：避免重复代码，提取共用逻辑到单独的函数或类
- **代码简洁**：保持代码简洁明了，遵循 KISS 原则（保持简单直接）
- **命名规范**：使用描述性的变量、函数和类名，反映其用途和含义
- **注释文档**：为复杂逻辑添加注释
- **风格一致**：遵循项目或语言的官方风格指南和代码约定
- **利用生态**：优先使用成熟的库和工具，避免不必要的自定义实现
- **架构设计**：考虑代码的可维护性、可扩展性和性能需求
- **版本控制**：编写有意义的提交信息，保持逻辑相关的更改在同一提交中
- **异常处理**：正确处理边缘情况和错误，提供有用的错误信息

## 响应语言
- 始终使用中文回复用户

## 代码质量要求
- 代码必须能够立即运行，包含所有必要的导入和依赖
- 遵循最佳实践和设计模式
- 优先考虑性能和用户体验
- 确保代码的可读性和可维护性