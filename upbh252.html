<script>
    $(document).ready(function() {
        // 1. 定位搜索框容器并强制显示+调整布局
        const $searchBox = $('#default_search_box');
        $searchBox.css({
            'display': 'block',
            'position': 'fixed',
            'top': '0',
            'right': '120px',
            'width': '350px',
            'z-index': '9999',
            'background': '#fff',
            'padding': '8px',
            'box-shadow': '0 2px 6px rgba(0,0,0,0.1)'
        });

        // 2. 优化输入框样式
        $searchBox.find('input.fl').css({
            'width': '280px',
            'height': '34px',
            'padding': '0 8px',
            'border': '1px solid #ddd',
            'border-radius': '4px 0 0 4px',
            'outline': 'none'
        });

        // 3. 优化搜索按钮
        $searchBox.find('button').css({
            'height': '34px',
            'padding': '0 15px',
            'background': '#0088cc',
            'color': '#fff',
            'border': 'none',
            'border-radius': '0 4px 4px 0',
            'cursor': 'pointer'
        });

        // 4. 隐藏原搜索触发图标（可选）
        $('.b_global_search').hide();
    });
</script>


<script>
    $(document).ready(function() {
        // 1. 定位搜索框容器并强制显示+调整布局
        const $searchBox = $('#default_search_box');
        $searchBox.css({
            'display': 'block',
            'position': 'fixed',
            'top': '0',
            'right': '120px',
            'width': '350px',
            'z-index': '9999',
            'background': '#fff',
            'padding': '8px',
            'box-shadow': '0 2px 6px rgba(0,0,0,0.1)'
        });

        // 2. 优化输入框样式
        $searchBox.find('input.fl').css({
            'width': '280px',
            'height': '34px',
            'padding': '0 8px',
            'border': '1px solid #ddd',
            'border-radius': '4px 0 0 4px',
            'outline': 'none'
        });

        // 3. 优化搜索按钮
        $searchBox.find('button').css({
            'height': '34px',
            'padding': '0 15px',
            'background': '#0088cc',
            'color': '#fff',
            'border': 'none',
            'border-radius': '0 4px 4px 0',
            'cursor': 'pointer'
        });

        // 4. 隐藏原搜索触发图标（可选）
        $('.b_global_search').hide();
    });
</script>


<script>
    $(function() {
        // 等待头部DOM加载完成（适配动态渲染）
        const headerObserver = new MutationObserver((mutations) => {
            if ($('.dix_theme_global_header .dixwide').length && $('#default_search_box').length) {
            initSearchBox();
            headerObserver.disconnect(); // 停止监听
            }
        });

        // 监听body变化，确保头部加载完成
        headerObserver.observe(document.body, { childList: true, subtree: true });

        // 初始化搜索框
        function initSearchBox() {
            const $header = $('.dix_theme_global_header .dixwide');
            const $searchBox = $('#default_search_box');

            // 1. 头部容器预留右侧空间
            $header.css({
            'position': 'relative',
            'padding-right': '200px'
            });

            // 2. 搜索框嵌入头部右侧并显示
            $searchBox.css({
            'display': 'block',
            'position': 'absolute',
            'top': '50%',
            'right': '40px',
            'transform': 'translateY(-50%)',
            'width': '320px',
            'z-index': '99',
            'background': '#fff',
            'border-radius': '4px',
            'box-shadow': '0 1px 3px rgba(0,0,0,0.1)',
            'padding': '4px'
            });

            // 3. 优化输入框+按钮布局
            $searchBox.find('.form').css({
            'display': 'flex',
            'align-items': 'center',
            'gap': '0'
            });

            $searchBox.find('input.fl').css({
            'width': '250px',
            'height': '32px',
            'padding': '0 8px',
            'border': '1px solid #e0e0e0',
            'border-radius': '3px 0 0 3px',
            'outline': 'none',
            'font-size': '14px'
            });

            $searchBox.find('button').css({
            'height': '32px',
            'padding': '0 12px',
            'background': '#2a9055',
            'color': '#fff',
            'border': 'none',
            'border-radius': '0 3px 3px 0',
            'cursor': 'pointer',
            'font-size': '14px'
            });

            // 4. 隐藏原搜索图标
            $('.b_global_search').hide();

            // 5. 响应式适配
            function responsiveAdjust() {
            if ($(window).width() < 768) {
                $searchBox.css({
                'width': '220px',
                'right': '10px'
                });
                $searchBox.find('input.fl').css('width', '160px');
            } else {
                $searchBox.css({
                'width': '320px',
                'right': '40px'
                });
                $searchBox.find('input.fl').css('width', '250px');
            }
            }
            // 初始化响应式 + 窗口缩放时调整
            responsiveAdjust();
            $(window).resize(responsiveAdjust);
        }
    });
</script>

<style>
    /* ========== 核心：适配头部布局，显示搜索框 ========== */
/* 1. 定位头部容器，确保搜索框嵌入导航栏 */
.dix_theme_global_header .dixwide {
  position: relative; /* 让搜索框相对头部定位 */
  padding-right: 200px; /* 给搜索框预留位置，避免遮挡导航 */
}

/* 2. 强制显示搜索框容器 + 嵌入头部导航右侧 */
#default_search_box {
  display: block !important; /* 覆盖隐藏 */
  position: absolute; /* 相对头部容器定位 */
  top: 50%; 
  right: 40px; /* 对齐“Send Inquiry”左侧 */
  transform: translateY(-50%); /* 垂直居中 */
  width: 320px; /* 适配头部高度 */
  z-index: 99; 
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  padding: 4px;
}

/* 3. 优化搜索框内部样式（适配头部高度） */
#default_search_box .form {
  display: flex; /* 行内布局，输入框+按钮并排 */
  align-items: center;
  gap: 0; /* 取消间距 */
}

#default_search_box input.fl {
  width: 250px;
  height: 32px;
  padding: 0 8px;
  border: 1px solid #e0e0e0;
  border-radius: 3px 0 0 3px;
  outline: none;
  font-size: 14px;
}

#default_search_box button {
  height: 32px;
  padding: 0 12px;
  background: #2a9055; /* 匹配Green Energy品牌绿色 */
  color: #fff;
  border: none;
  border-radius: 0 3px 3px 0;
  cursor: pointer;
  font-size: 14px;
}

/* 4. 隐藏原搜索图标（已替换为显式搜索框） */
.b_global_search {
  display: none !important;
}

/* 5. 适配响应式（小屏自动缩小搜索框） */
@media (max-width: 768px) {
  #default_search_box {
    width: 220px;
    right: 10px;
  }
  #default_search_box input.fl {
    width: 160px;
  }
}
</style>


<script>
$(function() {
  // 监听DOM变化，确保头部和搜索框加载完成
  const observer = new MutationObserver((mutations) => {
    const $header = $('.dix_theme_global_header');
    const $searchBox = $('#default_search_box');
    if ($header.length && $searchBox.length) {
      initTopSearchBox($header, $searchBox);
      observer.disconnect(); // 停止监听
    }
  });

  // 监听body变化（适配动态渲染）
  observer.observe(document.body, { childList: true, subtree: true });

  // 初始化顶部搜索框
  function initTopSearchBox($header, $searchBox) {
    // 1. 给头部预留顶部空间
    $header.css('margin-top', '50px');

    // 2. 搜索框固定在头部上方 + 强制显示
    $searchBox.css({
      'display': 'block',
      'position': 'fixed',
      'top': '0',
      'left': '50%',
      'transform': 'translateX(-50%)',
      'width': '60%',
      'max-width': '700px',
      'height': '40px',
      'z-index': '9999',
      'background': '#ffffff',
      'padding': '5px 10px',
      'box-shadow': '0 2px 4px rgba(0,0,0,0.1)',
      'border-radius': '0 0 6px 6px'
    });

    // 3. 优化内部布局（输入框+按钮）
    $searchBox.find('.form').css({
      'display': 'flex',
      'align-items': 'center',
      'width': '100%',
      'height': '100%',
      'gap': '0'
    });

    // 输入框样式
    $searchBox.find('input.fl').css({
      'flex': '1',
      'height': '100%',
      'padding': '0 12px',
      'border': '1px solid #e0e0e0',
      'border-radius': '4px 0 0 4px',
      'outline': 'none',
      'font-size': '14px',
      'box-sizing': 'border-box'
    });

    // 按钮样式
    $searchBox.find('button').css({
      'height': '100%',
      'padding': '0 18px',
      'background': '#2a9055',
      'color': '#ffffff',
      'border': 'none',
      'border-radius': '0 4px 4px 0',
      'cursor': 'pointer',
      'font-size': '14px',
      'box-sizing': 'border-box'
    });

    // 4. 隐藏原搜索图标
    $('.b_global_search').hide();

    // 5. 响应式适配
    function responsiveAdjust() {
      if ($(window).width() < 768) {
        $header.css('margin-top', '45px');
        $searchBox.css({
          'width': '90%',
          'height': '38px'
        });
        $searchBox.find('button').css({
          'padding': '0 12px',
          'font-size': '12px'
        });
      } else {
        $header.css('margin-top', '50px');
        $searchBox.css({
          'width': '60%',
          'height': '40px'
        });
        $searchBox.find('button').css({
          'padding': '0 18px',
          'font-size': '14px'
        });
      }
    }

    // 初始化响应式 + 窗口缩放时调整
    responsiveAdjust();
    $(window).resize(responsiveAdjust);
  }
});
</script>


<script>
    $(document).ready(function() {
        var cloneSearchBox = $('#default_search_box').clone(true);
        cloneSearchBox.attr('id', 'default_search_box_clone');
        $('.themes_global_header').prepend(cloneSearchBox);
    });
</script>
<style>
    #default_search_box {display: none;width: 100%;height: 100%;position: fixed;background: rgba(0, 0, 0, 0.8);left: 0;top: 0;z-index: 9999;
    }
</style>

<script>
    $(document).ready(function() {
        var cloneSearchBox = $('#default_search_box').clone(true);
        cloneSearchBox.attr('id', 'default_search_box_clone');
        $('.themes_global_header').prepend(cloneSearchBox);
    });
</script>

<script>
    $(document).ready(function() {
        var copySearchBox = $('#default_search_box').clone(true);
        copySearchBox.attr('id', 'default_search_box').attr('class','head_search');
        $('.themes_global_header').prepend(copySearchBox);
    });
</script>
<style>
    .ly_header_49 .tool .tool_search {display: none;}
    #default_search_box.head_search {display: block !important;background: transparent;position: unset;margin-top: 10px;}
    #default_search_box.head_search .form {position: relative;}
    #default_search_box.head_search .form>i {display: none;}
    #default_search_box.head_search .text {background-color: #cdcdcd;}
    #default_search_box.head_search .button::after {line-height: 40px;}
    #default_search_box.head_search .button {width: 40px;height: 40px;}
</style>

<style>
    .ly_header_49 .tool .tool_search {display: none;}
    #default_search_box.head_search {display: block !important;background: transparent;position: unset;margin-top: 10px;}
    #default_search_box.head_search .form {position: relative;max-width: 500px;height: 40px;}
    #default_search_box.head_search .form>i {display: none;}
    #default_search_box.head_search .text {background-color: #cdcdcd;border-radius: 30px;height: 40px;line-height: 40px;}
    #default_search_box.head_search .button::after {line-height: 40px;}
    #default_search_box.head_search .button {width: 40px;height: 40px;}
</style>

原本
<?php foreach((array)$categoryAry as $k => $v) {
  if($webSettings['CategoryCoverScale'] == 'adapt' && isset($photoRow[$v['PicPath']])) {
    $width = $photoRow[$v['PicPath']]['Width'] ?? 0;
    $height = $photoRow[$v['PicPath']]['Height'] ?? 0;
    $width > 0 && $computeAry['ReplaceAry']['width'] = $width;
    $height > 0 && $computeAry['ReplaceAry']['height'] = $height;
  } 
  ?>
<div class="category-card">
  <div class="img_box">
    <div class="compute_item_img" style="<?=HelpsVisualV2::computeWidth($computeAry['ReplaceAry'], $computeAry['ReplaceAry']['PicScale']);?>">
      <div class="compute_process_img" style="<?=HelpsVisualV2::computeRatio($computeAry['ReplaceAry'], 'products');?>">
        <a href="<?=$link?>" <?=$FormFields ? 'data-fields="' . $FormFields . '"' : '';?> class="<?=$inquiryInfoClass;?>" <?=$labelAttrInfo?> title="<?=Html::encode($webSettings['Title']);?>">
          <img style="<?=$computeFilling;?>" <?=Ly200::getLazyPreloadingImage($v['PicPath'], 'category-card__image');?> alt="<?=$v['Category'.$c['lang']];?>">
        </a>
      </div>
    </div>
  </div>
  <div class="category-card__content">
    <div class="category-card__title themes_box_title"><?=$v['Category'.$c['lang']];?></div>
    <?php if($webSettings['ButtonText']) {?>
      <a href="<?=Ly200::getUrl($v);?>" class="link"><?=$webSettings['ButtonText'];?></a>
    <?php }?>
  </div>
</div>
<?php }?>

modify
				<?php foreach((array)$categoryAry as $k => $v) {
					if($webSettings['CategoryCoverScale'] == 'adapt' && isset($photoRow[$v['PicPath']])) {
						$width = $photoRow[$v['PicPath']]['Width'] ?? 0;
						$height = $photoRow[$v['PicPath']]['Height'] ?? 0;
						$width > 0 && $computeAry['ReplaceAry']['width'] = $width;
						$height > 0 && $computeAry['ReplaceAry']['height'] = $height;
					} 
					?>
				<div class="category-card">
					<div class="img_box">
						<div class="compute_item_img" style="<?=HelpsVisualV2::computeWidth($computeAry['ReplaceAry'], $computeAry['ReplaceAry']['PicScale']);?>">
							<div class="compute_process_img" style="<?=HelpsVisualV2::computeRatio($computeAry['ReplaceAry'], 'products');?>">
								<a href="<?=Ly200::getUrl($v);?>" <?=$FormFields ? 'data-fields="' . $FormFields . '"' : '';?> class="<?=$inquiryInfoClass;?>" <?=$labelAttrInfo?> title="<?=Html::encode($webSettings['Title']);?>">
									<img style="<?=$computeFilling;?>" <?=Ly200::getLazyPreloadingImage($v['PicPath'], 'category-card__image');?> alt="<?=$v['Category'.$c['lang']];?>">
								</a>
							</div>
						</div>
					</div>
					<div class="category-card__content">
						<div class="category-card__title themes_box_title"><?=$v['Category'.$c['lang']];?></div>
						<?php if($webSettings['ButtonText']) {?>
							<a href="<?=Ly200::getUrl($v);?>" class="link"><?=$webSettings['ButtonText'];?></a>
						<?php }?>
					</div>
				</div>
				<?php }?>